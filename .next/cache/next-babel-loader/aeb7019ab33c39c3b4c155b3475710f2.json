{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mysto\\\\Desktop\\\\Web Dev\\\\news\\\\justnews\\\\pages\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport Error from \"next/error\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-fetch\";\nimport StoryList from \"../components/StoryList\";\nimport Layout from \"../components/Layout\";\n\nclass Index extends React.Component {\n  static async getInitialProps({\n    req,\n    res,\n    query\n  }) {\n    let stories;\n    let page;\n\n    try {\n      page = Number(query.page) || 1;\n      const res = await fetch(`https://node-hnapi.herokuapp.com/news?page=${page}`);\n      stories = await res.json();\n    } catch (err) {\n      stories = [];\n    }\n\n    return {\n      page,\n      stories\n    };\n  }\n\n  render() {\n    const {\n      stories,\n      page\n    } = this.props;\n\n    if (stories.length === 0) {\n      return /*#__PURE__*/_jsxDEV(Error, {\n        statusCode: 503\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Layout, {\n        title: \"Just News\",\n        description: \"A simple Hacker News clone\",\n        children: [/*#__PURE__*/_jsxDEV(StoryList, {\n          stories: stories\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"jsx-3267059619\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: `/?page=${page + 1}`,\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"jsx-3267059619\",\n              children: [\"Next Page (\", page + 1, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n          id: \"3267059619\",\n          children: \"footer.jsx-3267059619{padding:1em;}footer.jsx-3267059619 a.jsx-3267059619{font-weight:bold;color:black;-webkit-text-decoration:none;text-decoration:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTXlzdG9cXERlc2t0b3BcXFdlYiBEZXZcXG5ld3NcXGp1c3RuZXdzXFxwYWdlc1xcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMENnQyxBQUd5QyxBQUdLLFlBRnJCLEtBR2dCLFlBQ1Msa0RBQ3pCIiwiZmlsZSI6IkM6XFxVc2Vyc1xcTXlzdG9cXERlc2t0b3BcXFdlYiBEZXZcXG5ld3NcXGp1c3RuZXdzXFxwYWdlc1xcaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgRXJyb3IgZnJvbSBcIm5leHQvZXJyb3JcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy1mZXRjaFwiO1xuaW1wb3J0IFN0b3J5TGlzdCBmcm9tIFwiLi4vY29tcG9uZW50cy9TdG9yeUxpc3RcIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTGF5b3V0XCI7XG5cbmNsYXNzIEluZGV4IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcmVxLCByZXMsIHF1ZXJ5IH0pIHtcbiAgICAgICAgbGV0IHN0b3JpZXM7XG4gICAgICAgIGxldCBwYWdlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYWdlID0gTnVtYmVyKHF1ZXJ5LnBhZ2UpIHx8IDE7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgICBgaHR0cHM6Ly9ub2RlLWhuYXBpLmhlcm9rdWFwcC5jb20vbmV3cz9wYWdlPSR7cGFnZX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc3RvcmllcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3RvcmllcyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgcGFnZSwgc3RvcmllcyB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBzdG9yaWVzLCBwYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoc3Rvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT17NTAzfSAvPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPExheW91dFxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkp1c3QgTmV3c1wiXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiQSBzaW1wbGUgSGFja2VyIE5ld3MgY2xvbmVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFN0b3J5TGlzdCBzdG9yaWVzPXtzdG9yaWVzfSAvPlxuICAgICAgICAgICAgICAgICAgICA8Zm9vdGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC8/cGFnZT0ke3BhZ2UgKyAxfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhPk5leHQgUGFnZSAoe3BhZ2UgKyAxfSk8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgIDwvZm9vdGVyPlxuXG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlciB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMWVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyIGEge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgICAgICAgICA8L0xheW91dD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4O1xuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Mysto\\\\\\\\Desktop\\\\\\\\Web Dev\\\\\\\\news\\\\\\\\justnews\\\\\\\\pages\\\\\\\\index.js */\"\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Mysto/Desktop/Web Dev/news/justnews/pages/index.js"],"names":["React","Error","Link","fetch","StoryList","Layout","Index","Component","getInitialProps","req","res","query","stories","page","Number","json","err","render","props","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,MAAMC,KAAN,SAAoBN,KAAK,CAACO,SAA1B,CAAoC;AAChC,eAAaC,eAAb,CAA6B;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,GAAP;AAAYC,IAAAA;AAAZ,GAA7B,EAAkD;AAC9C,QAAIC,OAAJ;AACA,QAAIC,IAAJ;;AAEA,QAAI;AACAA,MAAAA,IAAI,GAAGC,MAAM,CAACH,KAAK,CAACE,IAAP,CAAN,IAAsB,CAA7B;AACA,YAAMH,GAAG,GAAG,MAAMP,KAAK,CAClB,8CAA6CU,IAAK,EADhC,CAAvB;AAGAD,MAAAA,OAAO,GAAG,MAAMF,GAAG,CAACK,IAAJ,EAAhB;AACH,KAND,CAME,OAAOC,GAAP,EAAY;AACVJ,MAAAA,OAAO,GAAG,EAAV;AACH;;AAED,WAAO;AAAEC,MAAAA,IAAF;AAAQD,MAAAA;AAAR,KAAP;AACH;;AAEDK,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEL,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAoB,KAAKK,KAA/B;;AACA,QAAIN,OAAO,CAACO,MAAR,KAAmB,CAAvB,EAA0B;AACtB,0BAAO,QAAC,KAAD;AAAO,QAAA,UAAU,EAAE;AAAnB;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFD,MAEO;AACH,0BACI,QAAC,MAAD;AACI,QAAA,KAAK,EAAC,WADV;AAEI,QAAA,WAAW,EAAC,4BAFhB;AAAA,gCAII,QAAC,SAAD;AAAW,UAAA,OAAO,EAAEP;AAApB;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI;AAAA;AAAA,iCACI,QAAC,IAAD;AAAM,YAAA,IAAI,EAAG,UAASC,IAAI,GAAG,CAAE,EAA/B;AAAA,mCACI;AAAA;AAAA,wCAAeA,IAAI,GAAG,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAwBH;AACJ;;AAhD+B;;AAmDpC,eAAeP,KAAf","sourcesContent":["import React from \"react\";\nimport Error from \"next/error\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-fetch\";\nimport StoryList from \"../components/StoryList\";\nimport Layout from \"../components/Layout\";\n\nclass Index extends React.Component {\n    static async getInitialProps({ req, res, query }) {\n        let stories;\n        let page;\n\n        try {\n            page = Number(query.page) || 1;\n            const res = await fetch(\n                `https://node-hnapi.herokuapp.com/news?page=${page}`\n            );\n            stories = await res.json();\n        } catch (err) {\n            stories = [];\n        }\n\n        return { page, stories };\n    }\n\n    render() {\n        const { stories, page } = this.props;\n        if (stories.length === 0) {\n            return <Error statusCode={503} />;\n        } else {\n            return (\n                <Layout\n                    title=\"Just News\"\n                    description=\"A simple Hacker News clone\"\n                >\n                    <StoryList stories={stories} />\n                    <footer>\n                        <Link href={`/?page=${page + 1}`}>\n                            <a>Next Page ({page + 1})</a>\n                        </Link>\n                    </footer>\n\n                    <style jsx>{`\n                        footer {\n                            padding: 1em;\n                        }\n                        footer a {\n                            font-weight: bold;\n                            color: black;\n                            text-decoration: none;\n                        }\n                    `}</style>\n                </Layout>\n            );\n        }\n    }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}